# プロジェクト制約

## 技術的制約
- **対象環境**: Claude Code v1.0以上
- **依存関係**: 標準的なシェルコマンドのみ使用
- **言語非依存**: 特定のプログラミング言語に依存しない設計
- **ファイルサイズ**: Memory Bankファイルは各50-100行以内推奨

## ビジネス制約
- **対象ユーザー**: 個人開発者・小規模チーム
- **学習曲線**: 即座に使い始められるシンプルさ
- **コスト**: プロンプトキャッシュで90%削減を目指す
- **サポート**: コミュニティベース（公式サポートなし）

## 品質基準
- **コード品質**: 既存プロジェクトの規約に従う
- **ドキュメント**: 日本語・英語の両方を提供
- **テスト**: TDD（テスト駆動開発）を厳格に遵守
- **保守性**: シンプルで理解しやすい構造

## TDD開発手法（t-wada流）- 必須要件

### 基本サイクル（厳守）
- 🔴 **Red**: 失敗するテストを書く（実装より先にテストを書く）
- 🟢 **Green**: テストを通す最小限の実装
- 🔵 **Refactor**: リファクタリング（テストが通る状態を維持）

### 実践原則（必須）
- **小さなステップ**: 一度に1つの機能のみ実装
- **仮実装**: テストを通すためにベタ書きでもOK（例：`return 42`）
- **三角測量**: 2つ目、3つ目のテストケースで一般化する
- **TODOリスト更新**: 実装中に思いついたことはすぐリストに追加
- **不安なところから**: 不安な箇所を優先的にテスト
- **即座にコミット**: テストが通ったらすぐコミット

### TDDコミットルール（必須）
- 🔴 テストを書いたら: `test: add failing test for [feature]`
- 🟢 テストを通したら: `feat: implement [feature] to pass test`
- 🔵 リファクタリングしたら: `refactor: [description]`

### 違反時の対応
- **Planner**: TDD未実施の実装計画は却下し、テストファースト設計を要求
- **Builder**: 実装前にテストを書いていない場合は即座に中断し、テスト作成から開始
- **エージェント切り替え時**: 必ずTDD遵守状況を確認し、違反があれば是正

## セキュリティ要件
- **コマンド実行**: 危険なコマンドは自動ブロック
- **ファイルアクセス**: プロジェクトディレクトリ内に限定
- **機密情報**: .gitignoreで適切に除外
- **ログ**: セキュリティログは~/.claudeに保存

## 運用上の制約
- **更新頻度**: Memory Bankは必要時のみ更新
- **アーカイブ**: 1週間経過したhandoverは手動でarchiveへ
- **バックアップ**: gitでの管理を推奨
- **移行**: 既存プロジェクトへの段階的導入を考慮

## その他の制約
- **ライセンス**: MITライセンス（予定）
- **互換性**: 既存のMemory Bankシステムと共存可能
- **拡張性**: 将来的な3つ目のエージェント追加を考慮
- **依存関係**: 外部サービスへの依存を最小化

---
*これらの制約は、プロジェクトの成長に応じて見直される可能性があります。*