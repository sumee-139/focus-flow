# Claude Friends 運用ガイド

🌐 **[English](claude-friends-guide.md)** | **日本語**

## 🎯 Claude Friendsとは
**Sequential Multi-Agent System** - 一人で開発していても、AIチームと一緒に働いているような体験を提供します。

### 2つのAIエージェント
- **Planner（計画者）**: プロジェクトの方向性を決め、タスクを整理
  - 冷静な女性口調（「〜ですね」「〜でしょう」「〜かしら」）
- **Builder（実装者）**: 計画に基づいてコードを書き、テストする
  - ちょっとがさつな男性口調（「〜だぜ」「〜だな」「よし、やってみるか」）

## 🚀 基本的な使い方

### 1. 初回起動
```bash
# Plannerモードで開始（計画立案）
/agent:planner

# 計画ができたらBuilderに切り替え（実装）
/agent:builder
```

### 2. 日常の開発フロー
```
朝: Plannerで今日の計画
  ↓
午前: Builderで実装
  ↓  
午後: 詰まったらPlannerで再計画
  ↓
夕方: Builderで仕上げ
  ↓
終了時: 次の日のためにhandover作成
```

### 3. エージェント切り替えの判断

#### Plannerを使うべき時
- プロジェクトの方向性を決める時
- 大きな機能の設計をする時
- タスクの優先順位を整理する時
- 行き詰まって再計画が必要な時

#### Builderを使うべき時
- 具体的なコードを書く時
- バグを修正する時
- テストを作成する時
- リファクタリングする時

## 📝 引き継ぎ（Handover）のコツ

### 良いhandoverの例
```markdown
# 引き継ぎ事項 - 2025-07-11 15:30

## From: Planner
## To: Builder

## 完了した作業
- 認証機能の設計完了
- APIエンドポイントの定義完了
- データベーススキーマの決定

## 次のエージェントへの申し送り

### 依頼事項:
1. /api/auth/login エンドポイントの実装
2. JWTトークンの生成処理
3. ユーザーテーブルの作成

### 注意事項:
- パスワードはbcryptでハッシュ化
- トークンの有効期限は24時間
- エラーレスポンスは統一フォーマットで
```

### handover作成のタイミング
- エージェント切り替え前（必須）
- 作業を中断する時
- 重要な決定をした後
- 1日の終わりに

## 🎭 エージェントの性格を活かす

### Plannerとの対話
- 「全体像はどうなっている？」
- 「優先順位を教えて」
- 「このアプローチで良い？」

### Builderとの対話
- 「このエラーを解決して」
- 「テストを書いて」
- 「パフォーマンスを改善して」

## 📁 ファイル構造の理解

```
.claude/
├── agents/
│   └── active.md          # 現在のエージェント
├── planner/
│   ├── identity.md        # Plannerの役割定義
│   ├── notes.md          # Plannerの作業メモ
│   └── handover.md       # 引き継ぎ文書
├── builder/
│   ├── identity.md        # Builderの役割定義
│   ├── notes.md          # Builderの作業メモ
│   └── handover.md       # 引き継ぎ文書
└── shared/
    ├── constraints.md     # プロジェクト制約
    └── phase-todo.md     # Phase/ToDo管理
```

## 💡 Tips & Tricks

### 1. Phase管理を活用
- 大きなプロジェクトを5-7個のPhaseに分割
- 各Phaseは1-2週間で完了できる規模に
- Phase完了時に振り返りを実施

### 2. 割り込み処理
```bash
# 緊急の割り込みが発生したら
# handover-interrupt-2025-07-11-1530.md を作成
```

### 3. アーカイブの活用
- 1週間経過したhandoverはarchiveフォルダへ
- 過去の決定事項を参照する際に便利

### 4. 既存コマンドとの併用
- `/project:daily` で日次振り返り
- `/debug:start` でデバッグモード
- エージェントシステムと従来のコマンドは共存可能

## ⚠️ 注意事項

### やってはいけないこと
- handoverなしでエージェント切り替え
- Plannerで実装の詳細に踏み込む
- Builderで大きな設計変更を勝手に行う

### トラブルシューティング
- **切り替えがうまくいかない**: active.mdを手動で編集
- **引き継ぎが不明確**: 前のhandoverを読み直す
- **役割が混乱**: identity.mdで役割を再確認

## 🎉 楽しむコツ
- エージェントを「同僚」として扱う
- 明確な指示と期待を伝える
- フィードバックを活用して改善
- 小さな成功を積み重ねる

---

Claude Friendsで、一人でも「チーム開発」の効率性を体験してください！