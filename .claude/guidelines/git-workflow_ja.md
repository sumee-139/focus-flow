# Gitワークフロー & ADR

🌐 **[English](git-workflow.md)** | **日本語**

## Git/PR規約

### コミットメッセージ

#### 基本フォーマット
`[prefix]: [変更内容の説明]`

#### プレフィックス一覧
- `feat`: 新機能追加
- `fix`: バグ修正
- `docs`: ドキュメント更新
- `style`: フォーマット、空白など（機能変更なし）
- `refactor`: リファクタリング（機能変更なし）
- `test`: テスト追加・修正
- `chore`: ビルド、依存関係、設定変更

#### 必須トレーラー
```bash
# バグレポートベースの修正
git commit -m "fix: データプロセッサのメモリリークを解決" --trailer "Reported-by: ユーザー名"

# GitHub Issue関連
git commit -m "feat: ユーザー認証を追加" --trailer "Github-Issue: #123"
```

### プルリクエスト規約
- **タイトル**: コミットメッセージと同じフォーマット
- **説明の必須項目**:
  - **背景**: なぜこの変更が必要か
  - **変更内容**: 何を変更したか（概要）
  - **影響範囲**: どこに影響するか
  - **テスト内容**: どのようにテストしたか

### レビュー
- 適切なレビュワーをアサイン
- セルフレビューを先に実施
- `Co-authored-by`などのツール言及は禁止

## ADR (アーキテクチャ決定記録)

### 基本操作
- **テンプレート**: @docs/adr/template.md
- **新規ADR作成**: `claude adr new "決定内容"` でテンプレート生成
- **番号管理**: ADR-001、ADR-002...で管理
- **ステータス**: 提案済み → 承認済み → 廃止済み/置換済み

### 記録すべき決定事項
- 技術スタック選定（フレームワーク、ライブラリ等）
- アーキテクチャ設計（データベース、API設計等）
- セキュリティポリシー（認証、暗号化等）
- パフォーマンス最適化手法
- デプロイ戦略

### 連携システム
- **負債ログ**: @.claude/context/debt.mdで技術的影響を追跡
- **履歴管理**: @.claude/context/history.mdで決定履歴を記録
- **GitHub連携**: Issue番号とリンクしたPR作成