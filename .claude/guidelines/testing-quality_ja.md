# テスト、品質、技術負債管理

🌐 **[English](testing-quality.md)** | **日本語**

## テスト要件（段階的TDD学習パス）

### TDD学習ステップ
#### Phase 1 (第1-2週): TDD経験なし
- 既存コードの理解と修正に集中
- 実装後のテスト追加でOK
- Claude Codeの基本操作をマスター

#### Phase 2 (第3-4週): TDD体験開始
- 小さな機能でTDDを体験（Claudeがテスト作成をサポート）
- 「失敗するテストを先に書く」→ 実装 → リファクタリング
- Red-Green-Refactorサイクルを体験

#### Phase 3 (2-3ヶ月目): TDDマスター
- 新機能開発にTDDを適用
- セルフデバッググループを活用（`claude test --fix`）
- TDDパターンが自然に身につく

### テスト基準
- **テストフレームワーク**: プロジェクト統一のフレームワークを使用
- **カバレッジ目標**: 重要機能で80%以上（徐々に改善）
- **推奨テストケース**: 
  - エッジケース（境界値、異常値）
  - エラーハンドリング
  - 新機能対応テスト（TDD習得後は先に作成）
  - バグ修正の回帰テスト

## 技術負債トラッキング

### 基本操作
- **負債ログ**: @.claude/context/debt.md
- **優先度分類**: 高🔥 / 中⚠️ / 低📝
- **コスト見積もり**: 時間単位で見積もり、実績を記録
- **影響範囲**: ファイル/機能レベルで記録

### キャッシュ影響分析
- **削除が必要な変更**: 推定追加コストを計算
- **最適化による改善**: コスト削減効果を測定
- **TTL管理**: 5分間の有効期限を考慮した計画

### 運用ルール
- **新機能開発時**: 潜在的な負債を事前予測・記録
- **スプリント終了時**: 発生した負債に優先順位付け
- **月次**: 全体的な負債をレビュー・アーカイブ

### 継続的改善
- **自動検出**: CI/CDで負債発生を監視
- **メトリクス**: 週次で負債の増減をチェック
- **予防**: コードレビューとリファクタリングの習慣化