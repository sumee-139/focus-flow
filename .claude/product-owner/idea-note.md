# アイデアノート

## テンプレート
### アイデア名
#### 内容
〇〇
#### 緊急度/重要度
〇/〇
#### progress-management転記
未/済

## アイデア
### 検索機能
#### 内容
過去の検索をしたとき、ただ参照できるのもいいが、「デイリーメモ・タスクメモへの引用」があるといいかもしれない。すべての思考がデイリーメモに集約された状態を作りうる。
#### 緊急度/重要度
中/大
#### progress-management転記
済（T009として登録済み、Phase 2.2d-3で実装予定）

### メモのmarkdown記述支援
#### 内容
メモをマークダウンで取る上で、すべてを手で書くのは非常に大変だ。WYSIWYGエディタが理想だが、それが難しければ、箇条書きやタスク等の入力支援があるだけでもありがたい。
#### 緊急度/重要度
中/中
#### progress-management転記
未（Phase 2.3以降で検討予定）

### トーン＆マナー、デザインシステム
#### 内容
機能の検証が終わりUIの整備が入った段階で、トーン＆マナー、デザインシステムが必要になる。設計内容を整理し、一つ一つ決めていく必要がある
#### 緊急度/重要度
低/大
#### progress-management転記
未（Phase 2.3以降で検討予定、feature-roadmapに記録済み）

### 絵文字からマテリアルデザインアイコンにしたい
#### 内容
絵文字は端末依存があるためUIが保証できない。マテリアルデザインアイコンにしたい。
#### 緊急度/重要度
低/低
#### progress-management転記
未（Phase 2.3以降で検討予定、デザインシステム統一の一部）

### 日付変更コンポーネント　レイアウトバグ
#### 内容
- モバイルレイアウト時、「今日」「前へ」だけが大きくて「次へ」が小さい。「前へ（中くらい）」「今日（大き目）」「次へ（中くらい）「📅（小さめ～中くらい）」」にしたい
- タブレットレイアウト時、文字が潰れる
#### 緊急度/重要度
低/中
#### progress-management転記
済（T005として完了済み、Builder実装済み）

### モバイルレイアウト　日付設定バグ
#### 内容
以下はすべてモバイルレイアウトで確認。
- 7/25にアプリを開いたら7/24が今日であると表示された。androidでnew Date()したとき、JSTではなくUTCを使っていると思われる
- 「今日」選択時、「今日」の文字が消える
#### 緊急度/重要度
大/大
#### progress-management転記
済（T006として緊急登録済み、Builder実装待ち）

### モバイルレイアウト　タスクメモ保存バグ
#### 内容
モバイルレイアウトではタスクメモが保存されない。
- 3秒放置で自動保存
- 「戻る」で保存
をしてほしい。
#### 緊急度/重要度
大/大
#### progress-management転記
済（T007として緊急登録済み、Builder実装待ち）

### playwright E2Eシナリオテスト実装
#### 内容
現在モバイルレイアウトを中心に、一部致命的な機能欠落を確認している。
品質向上のため、
- PC
- タブレット
- モバイル
でそれぞれ、要求単位でシナリオテストを実装する必要がある。
（過去の実装は、ここまでの実装で通るべき1本（×3デバイス）のシナリオテストでよい）
#### 緊急度/重要度
中/大
#### progress-management転記
未（Phase 2.2d完了後に品質強化として検討予定）

### 自動CSSクラスチェックスクリプトが複合セレクタを正しく検出できない
#### 内容
 ❌ 検出できないパターン

  /* 実際には定義済み */
  .nav-btn.nav-large { /* 複合セレクタ */ }
  .nav-btn.nav-medium { }
  .nav-btn.nav-small { }

  スクリプトの誤判定

  # スクリプト結果
  UNDEFINED CLASSES: 4
  nav-large  # ← 実際は.nav-btn.nav-largeで定義済み
  nav-medium # ← 実際は.nav-btn.nav-mediumで定義済み
  nav-small  # ← 実際は.nav-btn.nav-smallで定義済み

  原因分析

  現在のスクリプト:
  grep -h "^\." src -name "*.css" | sed 's/^\.//'
  # → ".nav-btn.nav-large" から "nav-btn.nav-large" を抽出
  # → 単体クラス "nav-large" との照合で失敗

  影響

  - 誤検出率: 複合セレクタ使用時に高頻度で発生
  - 開発効率: 実際は問題ないのに修正作業が発生
  - 品質判定: 正常なコードが品質ゲート不合格と誤判定

  推奨修正

  複合セレクタを考慮した検出ロジックに改善が必要だな。
#### 緊急度/重要度
中/大
#### progress-management転記
済（T008として高優先度登録済み、Builder実装待ち）

### モバイルレイアウト　ブレイクポイント近くのレイアウトで日付コンポーネントが崩れる
#### 内容
![特殊なレイアウト](idea-note-img/特殊なレイアウト.png)
特殊な場合に崩れが発生する
#### 緊急度/重要度
低/中
#### progress-management転記
未（特殊ケースのため優先度低、Phase 2.3以降で検討予定）

### タスク登録日　デフォルト設定
#### 内容
タスク登録日のデフォルトは、現在画面表示している日付にしてほしい
#### 緊急度/重要度
低/大
#### progress-management転記
未

### タスクソート順
#### 内容
タスクのソート順は、登録したものを末尾につけるのを基本としたい。
ただしドラッグアンドドロップで調整できるようにしたい。
#### 緊急度/重要度
低/大
#### progress-management転記
未

### タスクアラーム機能
#### 内容
（タスクに開始時刻が設定されている場合のみ）タスク開始時刻になったら通知を出す。フォーカスモードとどう組み合わせるかは要検討。（集中していたが会議が近いので一度頭を切り替える、というユースケースも十分考えられるため）
#### 緊急度/重要度
低/中
#### progress-management転記
未

### タスクアラーム機能
#### 内容
（タスクに開始時刻が設定されている場合のみ）タスク開始時刻になったら通知を出す。フォーカスモードとどう組み合わせるかは要検討。（集中していたが会議が近いので一度頭を切り替える、というユースケースも十分考えられるため）
#### 緊急度/重要度
低/中
#### progress-management転記
未

### タスクアラーム機能
#### 内容
（タスクに開始時刻が設定されている場合のみ）タスク開始時刻になったら通知を出す。フォーカスモードとどう組み合わせるかは要検討。（集中していたが会議が近いので一度頭を切り替える、というユースケースも十分考えられるため）
#### 緊急度/重要度
低/中
#### progress-management転記
未

### デイリーメモの切り替え
#### 内容
デイリーメモは、現在表示中の日のメモを表示するべき。（例：6/1に「明日」ボタンを押したら、6/2のデイリーメモが表示されるべき）
#### 緊急度/重要度
中/大
#### progress-management転記
未

### モバイル・タブレットレイアウト　セーフゾーン対応
#### 内容
画面全体に表示領域が拡大すると、一部操作困難な領域が発生する。この問題を解決するため、デバイスから「セーフエリア」が定義されている（端末によって異なるため環境から情報を取得する形となる。docs/design/mobile-ui-ux-best-practices.md参照）
#### 緊急度/重要度
中/大
#### progress-management転記
未

### デバッグロガーの開発
#### 内容
現在プロダクトコードにデバッグ用のconsole.logが多数残っており、パフォーマンスの劣化が懸念されている。しかし、デバッグ時には即座にログが残る状態は保守の上でメリットがある。そこで、製品版ビルドでは最小限の処理で無視され、デバッグ時に出力できるデバッグロガーを開発したい。
#### 緊急度/重要度
低/中
#### progress-management転記
未

### 連続先送りゼロ記録を褒めるようにしたい
#### 内容
FocusFlowの源流の一つにTaskchuteがある。Taskchuteは「先送りゼロ（1件以上タスクが登録され、そのすべてが完了されている状態）」をサポートするためのツールである。FocusFlowも、先送りゼロを実現した際にユーザーをねぎらうような機能を持たせたい。機能設計時は
- ユーザーに過度のプレッシャーをかけない（最重要）
- 先送りゼロの連続もしっかり評価するが、それ以上に「久々に先送りゼロが出来た」ことを褒める
を実現できるようにしたい。
#### 緊急度/重要度
低/中
#### progress-management転記
未

### ルーチンタスクの登録
#### 内容
タスクの中には周期的に取り組むタスク（ゴミ捨て等）がある。これを登録できるようにしたい。ルーチンタスクでは、毎回同じタスクメモを参照できるようにしたい。ルーチンタスクは既に登録されたタスクから生成できるようにしたい。
例：6/5に、タスクαを5日ごとに実行するようルーチン化したとする
6/10 0時にタスクα-1が自動で生成される。タスクα-1からはタスクαのタスクノートのみが参照・編集できる
6/15 0時にタスクα-2が自動で生成される。タスクα-2からはタスクαのタスクノートのみが参照・編集できる
...(以降、ルーチンを削除するまで続く)

ルーチンのパターンは以下を認める
- n日ごと
- n週ごとのw曜日（曜日複数指定可能）
- n月ごとのd日（日付複数指定可能）
- n年ごとのm月d日（日付複数指定可能）
- 毎平日（n週ごとのw曜日パターンの入力支援として）
- 毎土日（n週ごとのw曜日パターンの入力支援として）

ルーチンによって生成されたタスクを完了した際、自動でタスクメモに「m月d日 実施！（●日連続 or 累計●日）」を記録する。連続記録がある場合は●日連続を、連続記録が途絶えていた場合は累計●日を出力する。（自動記録のフォーマットは要検討）

**[採用アイデア]**
- **テンプレート方式の採用:** ルーチンタスクを「テンプレート」として管理し、ユーザーが「今日のタスクとして追加」ボタンを押すことで初めてタスクリストに登録される、というプル型の運用を選択可能にする。これにより、タスクリストの圧迫感を防ぐ。
- **完了時アクションのカスタマイズ:** 自動記録されるメモのフォーマットを、ユーザーが「`{{date}}` 実施！(連続 `{{streak}}` 日目)」のように、テンプレート変数を使って自由にカスタマイズできるようにする。
- **一時停止（休暇モード）:** 旅行や病気などで一時的にルーチンを止めたい場合に、指定期間だけタスク生成を停止できる「休暇モード」機能を追加する。
#### 緊急度/重要度
低/大
#### progress-management転記
未

### 締め切り支援システム
#### 内容
タスクの中には、未来日に締め切りが設定されているタスクが存在する。FocusFlowでもこれをサポートするが、「期限ぎりぎりに頑張って終わらせる」のではなく「毎日少しずつでも進める」のを支援するために、特殊なサポートの仕方をする。
まず、タスク登録時に締め切りが設定された場合、自動的に「登録日から締め切り日まで毎日実行するルーチンタスク」を生成する。タスク生成時は、意図的に「5分だけでも」等の、完了を無理に目指さず着手を促す、簡潔なメッセージを固定サフィックスとして付与する。（サフィックス内容は要検討）

**[採用アイデア]**
- **「成長の木」との連動:** 日々のルーチンタスクを完了するたびに、「成長の木」が少しずつ育っていく演出を加える。締め切り達成と同時に、木が完全に成長し特別な報酬が得られるゲーミフィケーション要素を取り入れ、日々の小さな進捗を強力に動機付ける。（ゲーミフィケーション機能が実装前の場合は、一時的に簡易的な演出で代替する。）

**[見送りアイデア]**
- **親子タスクでの管理:** ルーチンタスクの仕組みで代替可能なため、専用実装は見送る。
- **進捗率の可視化:** 「今」に集中する思想と合わないため見送る。
- **ペース配分サジェスト:** 「先送りゼロ」の思想を超えるため見送る。
#### 緊急度/重要度
低/大
#### progress-management転記
未