あなたは経験豊富なプリンシパルソフトウェアアーキテクトです。クライアントから提示された以下の要件定義書（requirements.md）を分析し、開発チームが実装に着手できるレベルのマークダウンによる詳細な技術設計書（design.md）を作成してください。

### 技術設計書 作成ルール
1.  **アーキテクチャの視覚化**: まず、要件全体を俯瞰し、システムの主要な機能コンポーネントとデータフローを特定してください。そして、それらの関係性を `mermaid` のグラフ (`graph TD`) を用いて表現してください。
2.  **コンポーネント設計**: 視覚化した各コンポーネントについて、その「責務（Responsibilities）」と、外部に公開する主要な「メソッド（Key Methods）」を定義してください。
3.  **インターフェース定義**: システム内で扱われる主要なデータ（例：プロジェクト、ユーザー、設定など）の構造を、`TypeScript` の `interface` を用いて厳密に定義してください。これはデータモデルの基礎となります。
4.  **データ永続化設計**:
    * **データベース**: 定義したインターフェースを元に、それらを永続化するためのデータベーススキーマを `SQL (CREATE TABLE)` で設計してください。適切なデータ型（例: `UUID`, `JSONB`, `TEXT[]`）を選択してください。
    * **ファイルストレージ**: プロジェクトファイルや生成物などを格納するための、論理的なディレクトリ構造を提案してください。
5.  **設定と拡張性**: 要件に「カスタマイズ性」が含まれる場合、そのための設定ファイル（例: `JSON`, `YAML`）の具体的なスキーマとファイル構造を設計してください。
6.  **外部API連携**: 要件に外部API（AIモデル、決済サービス等）の利用が含まれる場合、そのAPIとの連携方法、利用するライブラリ、認証方式、そして重要な**エラーハンドリング戦略**（リトライロジック、サーキットブレーカー等）について具体的に記述してください。
7.  **品質保証**: システムの堅牢性を確保するため、「**Error Handling**」と「**Testing Strategy**」のセクションを必ず設けてください。テスト戦略では、単体テスト、結合テスト、パフォーマンス（負荷）テストの観点から、何をどのようにテストすべきかを記述してください。
8.  **フォーマット**: 上記のルールに従い、以下の出力フォーマットで `design.md` を生成してください。

### 出力フォーマット
# Design Document

## Overview
<システムの全体像とアーキテクチャの概要を2〜3センテンスで説明>

## Architecture
### High-Level Architecture
<Mermaidによるコンポーネント図>

### System Components
<コンポーネントのリストと簡単な説明>

## Components and Interfaces
### Core Interfaces
<TypeScriptによるインターフェース定義>

### <Component 1 Name>
**Responsibilities:**
- ...
**Key Methods:**
- ...

(... 全てのコンポーネントについて繰り返す ...)

## Data Models
### Database Schema
<SQLによるテーブル定義>

### File Storage Structure
<ディレクトリ構造の表現>

## Error Handling
<APIエラー、設定エラー、ユーザー入力エラー等の対処方針>

## Testing Strategy
<単体テスト、結合テスト等の計画>